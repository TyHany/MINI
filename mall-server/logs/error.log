{"code":"ER_BAD_FIELD_ERROR","errno":1054,"level":"error","message":"获取用户信息失败: Unknown column 'created_at' in 'field list'","sql":"SELECT id, nickname, avatar_url, openid, created_at FROM user WHERE id = ?","sqlMessage":"Unknown column 'created_at' in 'field list'","sqlState":"42S22","stack":"Error: Unknown column 'created_at' in 'field list'\n    at PromisePool.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at Object.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\database\\index.js:19:31)\n    at exports.getInfo (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\user.js:142:30)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at module.exports (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\middlewares\\auth.js:28:5)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-01-18T23:23:03.993Z"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"创建订单失败: Table 'mall.order' doesn't exist","sql":"INSERT INTO `order` (order_no, user_id, total_amount, status) VALUES (?, ?, ?, 0)","sqlMessage":"Table 'mall.order' doesn't exist","sqlState":"42S02","stack":"Error: Table 'mall.order' doesn't exist\n    at PromisePoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:47:22)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:30:33)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T06:27:09.464Z"}
{"code":"ER_NO_DEFAULT_FOR_FIELD","errno":1364,"level":"error","message":"创建订单失败: Field 'receiver_name' doesn't have a default value","sql":"INSERT INTO orders (order_no, user_id, total_amount, status) VALUES (?, ?, ?, 0)","sqlMessage":"Field 'receiver_name' doesn't have a default value","sqlState":"HY000","stack":"Error: Field 'receiver_name' doesn't have a default value\n    at PromisePoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:47:22)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:30:33)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T06:28:03.696Z"}
{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"level":"error","message":"创建订单失败: Cannot add or update a child row: a foreign key constraint fails (`mall`.`order_goods`, CONSTRAINT `order_goods_ibfk_1` FOREIGN KEY (`order_id`) REFERENCES `order` (`id`))","sql":"INSERT INTO order_goods (order_id, goods_id, goods_name, goods_image, goods_price, quantity) VALUES (?, ?, (SELECT name FROM goods WHERE id = ?), (SELECT image_url FROM goods WHERE id = ?), (SELECT price FROM goods WHERE id = ?), ?)","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`mall`.`order_goods`, CONSTRAINT `order_goods_ibfk_1` FOREIGN KEY (`order_id`) REFERENCES `order` (`id`))","sqlState":"23000","stack":"Error: Cannot add or update a child row: a foreign key constraint fails (`mall`.`order_goods`, CONSTRAINT `order_goods_ibfk_1` FOREIGN KEY (`order_id`) REFERENCES `order` (`id`))\n    at PromisePoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:47:22)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:67:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T06:39:36.371Z"}
{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"level":"error","message":"创建订单失败: Cannot add or update a child row: a foreign key constraint fails (`mall`.`order_goods`, CONSTRAINT `order_goods_ibfk_1` FOREIGN KEY (`order_id`) REFERENCES `order` (`id`))","sql":"INSERT INTO order_goods (\n          order_id, goods_id, goods_name, goods_image, goods_price, quantity\n        ) VALUES (?, ?, ?, ?, ?, ?)","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`mall`.`order_goods`, CONSTRAINT `order_goods_ibfk_1` FOREIGN KEY (`order_id`) REFERENCES `order` (`id`))","sqlState":"23000","stack":"Error: Cannot add or update a child row: a foreign key constraint fails (`mall`.`order_goods`, CONSTRAINT `order_goods_ibfk_1` FOREIGN KEY (`order_id`) REFERENCES `order` (`id`))\n    at PromisePoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:47:22)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:73:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T06:40:36.924Z"}
{"code":"MODULE_NOT_FOUND","level":"error","message":"统一下单失败: Cannot find module 'xml2js'\nRequire stack:\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\pay.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\index.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\app.js","requireStack":["E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js","E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\pay.js","E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\index.js","E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\app.js"],"stack":"Error: Cannot find module 'xml2js'\nRequire stack:\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\pay.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\index.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\app.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1225:15)\n    at Module._load (node:internal/modules/cjs/loader:1051:27)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:122:25\n    at new Promise (<anonymous>)\n    at xmlToObject (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:121:10)\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:96:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:26:32)","timestamp":"2025-01-19T06:52:56.201Z"}
{"code":"MODULE_NOT_FOUND","level":"error","message":"创建支付订单失败: Cannot find module 'xml2js'\nRequire stack:\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\pay.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\index.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\app.js","requireStack":["E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js","E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\pay.js","E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\index.js","E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\app.js"],"stack":"Error: Cannot find module 'xml2js'\nRequire stack:\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\pay.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\routes\\index.js\n- E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\app.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1225:15)\n    at Module._load (node:internal/modules/cjs/loader:1051:27)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:122:25\n    at new Promise (<anonymous>)\n    at xmlToObject (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:121:10)\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:96:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:26:32)","timestamp":"2025-01-19T06:52:56.203Z"}
{"level":"error","message":"获取订单列表失败: Assignment to constant variable.","stack":"TypeError: Assignment to constant variable.\n    at exports.list (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:148:16)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at module.exports (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\middlewares\\auth.js:28:5)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-01-19T07:10:58.586Z"}
{"level":"error","message":"创建支付订单失败: Bind parameters must not contain undefined. To pass SQL NULL specify JS null","stack":"Error: Bind parameters must not contain undefined. To pass SQL NULL specify JS null\n    at PromisePool.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:14:31)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at module.exports (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\middlewares\\auth.js:28:5)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-01-19T07:28:50.130Z"}
{"level":"error","message":"统一下单失败: OK","stack":"Error: OK\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:101:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:26:32)","timestamp":"2025-01-19T07:29:39.461Z"}
{"level":"error","message":"创建支付订单失败: OK","stack":"Error: OK\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:101:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:26:32)","timestamp":"2025-01-19T07:29:39.462Z"}
{"level":"error","message":"统一下单失败: OK","stack":"Error: OK\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:101:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:26:32)","timestamp":"2025-01-19T07:33:46.528Z"}
{"level":"error","message":"创建支付订单失败: OK","stack":"Error: OK\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:101:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:26:32)","timestamp":"2025-01-19T07:33:46.529Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T07:34:41.387Z"}
{"level":"error","message":"创建支付订单失败: 业务失败: 该订单已支付","stack":"Error: 业务失败: 该订单已支付\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:115:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:26:32)","timestamp":"2025-01-19T07:34:41.387Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T07:35:00.160Z"}
{"level":"error","message":"创建支付订单失败: 业务失败: 该订单已支付","stack":"Error: 业务失败: 该订单已支付\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:115:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:26:32)","timestamp":"2025-01-19T07:35:00.160Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T07:35:43.311Z"}
{"level":"error","message":"创建支付订单失败: 业务失败: 该订单已支付","stack":"Error: 业务失败: 该订单已支付\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:132:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:43:32)","timestamp":"2025-01-19T07:35:43.311Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T07:36:32.438Z"}
{"level":"error","message":"创建支付订单失败: 业务失败: 该订单已支付","stack":"Error: 业务失败: 该订单已支付\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:146:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:57:32)","timestamp":"2025-01-19T07:36:32.438Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T07:38:45.110Z"}
{"level":"error","message":"创建支付订单失败: 业务失败: 该订单已支付","stack":"Error: 业务失败: 该订单已支付\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:147:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:57:32)","timestamp":"2025-01-19T07:38:45.110Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T07:40:22.935Z"}
{"level":"error","message":"创建支付订单失败: 业务失败: 该订单已支付","stack":"Error: 业务失败: 该订单已支付\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:165:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:68:32)","timestamp":"2025-01-19T07:40:22.935Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T08:05:03.683Z"}
{"level":"error","message":"创建支付失败: 业务失败: 该订单已支付","stack":"Error: 业务失败: 该订单已支付\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:146:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:49:32)","timestamp":"2025-01-19T08:05:03.683Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T08:05:22.242Z"}
{"level":"error","message":"创建支付失败: 业务失败: 该订单已支付","stack":"Error: 业务失败: 该订单已支付\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:146:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:49:32)","timestamp":"2025-01-19T08:05:22.243Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T08:10:13.619Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T08:10:51.659Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T08:10:59.614Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T08:11:00.746Z"}
{"code":"ER_NO_DEFAULT_FOR_FIELD","errno":1364,"level":"error","message":"创建订单失败: Field 'receiver_name' doesn't have a default value","sql":"INSERT INTO orders (user_id, order_no, total_amount, status) VALUES (?, ?, ?, 0)","sqlMessage":"Field 'receiver_name' doesn't have a default value","sqlState":"HY000","stack":"Error: Field 'receiver_name' doesn't have a default value\n    at PromisePoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:47:22)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:17:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T08:32:29.634Z"}
{"code":"ER_NO_DEFAULT_FOR_FIELD","errno":1364,"level":"error","message":"创建订单失败: Field 'receiver_name' doesn't have a default value","sql":"INSERT INTO orders (user_id, order_no, total_amount, status) VALUES (?, ?, ?, 0)","sqlMessage":"Field 'receiver_name' doesn't have a default value","sqlState":"HY000","stack":"Error: Field 'receiver_name' doesn't have a default value\n    at PromisePoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:47:22)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:17:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T08:37:00.373Z"}
{"level":"error","message":"创建订单失败: 库存不足","stack":"Error: 库存不足\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:73:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T08:38:10.756Z"}
{"level":"error","message":"创建订单失败: 库存不足","stack":"Error: 库存不足\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:73:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T08:38:36.084Z"}
{"level":"error","message":"统一下单失败: mch_id参数格式错误","stack":"Error: mch_id参数格式错误\n    at WXPay.unifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\utils\\wxpay.js:111:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.pay (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:319:20)","timestamp":"2025-01-19T08:43:32.855Z"}
{"level":"error","message":"发起支付失败: mch_id参数格式错误","stack":"Error: mch_id参数格式错误\n    at WXPay.unifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\utils\\wxpay.js:111:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.pay (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:319:20)","timestamp":"2025-01-19T08:43:32.855Z"}
{"level":"error","message":"统一下单失败: AppID不存在，请检查后再试","stack":"Error: AppID不存在，请检查后再试\n    at WXPay.unifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\utils\\wxpay.js:128:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.pay (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:319:20)","timestamp":"2025-01-19T08:46:10.985Z"}
{"level":"error","message":"发起支付失败: AppID不存在，请检查后再试","stack":"Error: AppID不存在，请检查后再试\n    at WXPay.unifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\utils\\wxpay.js:128:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.pay (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:319:20)","timestamp":"2025-01-19T08:46:10.986Z"}
{"level":"error","message":"统一下单失败: OK","stack":"Error: OK\n    at WXPay.unifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\utils\\wxpay.js:150:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.pay (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:319:20)","timestamp":"2025-01-19T08:56:55.838Z"}
{"level":"error","message":"发起支付失败: OK","stack":"Error: OK\n    at WXPay.unifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\utils\\wxpay.js:150:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.pay (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:319:20)","timestamp":"2025-01-19T08:56:55.838Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T08:58:17.542Z"}
{"level":"error","message":"创建支付失败: 通信失败: 签名错误，请检查后再试","stack":"Error: 通信失败: 签名错误，请检查后再试\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:173:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T08:58:17.542Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T08:58:21.066Z"}
{"level":"error","message":"创建支付失败: 通信失败: 签名错误，请检查后再试","stack":"Error: 通信失败: 签名错误，请检查后再试\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:173:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T08:58:21.066Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T08:59:36.710Z"}
{"level":"error","message":"创建支付失败: 通信失败: 签名错误，请检查后再试","stack":"Error: 通信失败: 签名错误，请检查后再试\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:173:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T08:59:36.711Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:00:50.619Z"}
{"level":"error","message":"创建支付失败: 通信失败: 签名错误，请检查后再试","stack":"Error: 通信失败: 签名错误，请检查后再试\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:173:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T09:00:50.620Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:01:00.308Z"}
{"level":"error","message":"创建支付失败: 通信失败: 签名错误，请检查后再试","stack":"Error: 通信失败: 签名错误，请检查后再试\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:173:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T09:01:00.309Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:01:07.996Z"}
{"level":"error","message":"创建支付失败: 通信失败: 签名错误，请检查后再试","stack":"Error: 通信失败: 签名错误，请检查后再试\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:173:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T09:01:07.997Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:02:58.942Z"}
{"level":"error","message":"创建支付失败: 通信失败: 签名错误，请检查后再试","stack":"Error: 通信失败: 签名错误，请检查后再试\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:173:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T09:02:58.942Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:04:05.522Z"}
{"level":"error","message":"创建支付失败: 通信失败: 签名错误，请检查后再试","stack":"Error: 通信失败: 签名错误，请检查后再试\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:173:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T09:04:05.522Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:08:34.723Z"}
{"level":"error","message":"创建支付失败: 通信失败: 签名错误，请检查后再试","stack":"Error: 通信失败: 签名错误，请检查后再试\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:173:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T09:08:34.724Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:09:25.080Z"}
{"level":"error","message":"创建支付失败: 通信失败: 签名错误，请检查后再试","stack":"Error: 通信失败: 签名错误，请检查后再试\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:173:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T09:09:25.080Z"}
{"level":"error","message":"创建订单失败: Bind parameters must not contain undefined. To pass SQL NULL specify JS null","stack":"TypeError: Bind parameters must not contain undefined. To pass SQL NULL specify JS null\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\base\\connection.js:660:17\n    at Array.forEach (<anonymous>)\n    at PoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\base\\connection.js:652:22)\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:56:11\n    at new Promise (<anonymous>)\n    at PromisePoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:53:12)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:34:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:09:42.651Z"}
{"level":"error","message":"创建订单失败: Bind parameters must not contain undefined. To pass SQL NULL specify JS null","stack":"TypeError: Bind parameters must not contain undefined. To pass SQL NULL specify JS null\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\base\\connection.js:660:17\n    at Array.forEach (<anonymous>)\n    at PoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\base\\connection.js:652:22)\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:56:11\n    at new Promise (<anonymous>)\n    at PromisePoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:53:12)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:34:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:09:45.520Z"}
{"level":"error","message":"创建订单失败: Bind parameters must not contain undefined. To pass SQL NULL specify JS null","stack":"TypeError: Bind parameters must not contain undefined. To pass SQL NULL specify JS null\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\base\\connection.js:660:17\n    at Array.forEach (<anonymous>)\n    at PoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\base\\connection.js:652:22)\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:56:11\n    at new Promise (<anonymous>)\n    at PromisePoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:53:12)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:34:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:09:46.869Z"}
{"level":"error","message":"创建订单失败: Bind parameters must not contain undefined. To pass SQL NULL specify JS null","stack":"TypeError: Bind parameters must not contain undefined. To pass SQL NULL specify JS null\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\base\\connection.js:660:17\n    at Array.forEach (<anonymous>)\n    at PoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\base\\connection.js:652:22)\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:56:11\n    at new Promise (<anonymous>)\n    at PromisePoolConnection.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\connection.js:53:12)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:34:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:11:32.441Z"}
{"level":"error","message":"创建订单失败: 订单金额不正确","stack":"Error: 订单金额不正确\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:20:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:12:33.906Z"}
{"level":"error","message":"创建订单失败: 订单金额不正确","stack":"Error: 订单金额不正确\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:20:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:12:42.988Z"}
{"level":"error","message":"创建订单失败: 订单金额不能为空","stack":"Error: 订单金额不能为空\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:34:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:13:25.268Z"}
{"level":"error","message":"创建订单失败: 第1个商品缺少必要信息: 商品ID, 商品名称, 商品价格, 商品图片, 商品数量","stack":"Error: 第1个商品缺少必要信息: 商品ID, 商品名称, 商品价格, 商品图片, 商品数量\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:47:15\n    at Array.forEach (<anonymous>)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:37:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:14:23.836Z"}
{"level":"error","message":"创建订单失败: 第1个商品缺少必要信息: 商品ID, 商品名称, 商品价格, 商品图片, 商品数量","stack":"Error: 第1个商品缺少必要信息: 商品ID, 商品名称, 商品价格, 商品图片, 商品数量\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:47:15\n    at Array.forEach (<anonymous>)\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\order.js:37:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:14:26.278Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:18:32.036Z"}
{"level":"error","message":"创建支付失败: 通信失败: mch_id参数格式错误","stack":"Error: 通信失败: mch_id参数格式错误\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:179:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T09:18:32.037Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:18:34.775Z"}
{"level":"error","message":"创建支付失败: 通信失败: mch_id参数格式错误","stack":"Error: 通信失败: mch_id参数格式错误\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:179:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T09:18:34.775Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:18:36.571Z"}
{"level":"error","message":"创建支付失败: 通信失败: mch_id参数格式错误","stack":"Error: 通信失败: mch_id参数格式错误\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:179:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:42:34)","timestamp":"2025-01-19T09:18:36.571Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:20:32.826Z"}
{"level":"error","message":"创建支付失败: 业务失败: 201 商户订单号重复","stack":"Error: 业务失败: 201 商户订单号重复\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:134:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:40:32)","timestamp":"2025-01-19T09:20:32.827Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:20:37.269Z"}
{"level":"error","message":"创建支付失败: 业务失败: 201 商户订单号重复","stack":"Error: 业务失败: 201 商户订单号重复\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:134:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:40:32)","timestamp":"2025-01-19T09:20:37.271Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:22:45.838Z"}
{"level":"error","message":"创建支付失败: 业务失败: 201 商户订单号重复","stack":"Error: 业务失败: 201 商户订单号重复\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:146:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:49:32)","timestamp":"2025-01-19T09:22:45.838Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:22:58.660Z"}
{"level":"error","message":"创建支付失败: 业务失败: 201 商户订单号重复","stack":"Error: 业务失败: 201 商户订单号重复\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:146:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:49:32)","timestamp":"2025-01-19T09:22:58.661Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:24:01.196Z"}
{"level":"error","message":"创建支付失败: 业务失败: 201 商户订单号重复","stack":"Error: 业务失败: 201 商户订单号重复\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:146:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:49:32)","timestamp":"2025-01-19T09:24:01.196Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:28:03.160Z"}
{"level":"error","message":"创建支付失败: 业务失败: 201 商户订单号重复","stack":"Error: 业务失败: 201 商户订单号重复\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:146:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:49:32)","timestamp":"2025-01-19T09:28:03.160Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:29:08.156Z"}
{"level":"error","message":"创建支付失败: 业务失败: INVALID_REQUEST 201 商户订单号重复","stack":"Error: 业务失败: INVALID_REQUEST 201 商户订单号重复\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:179:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:49:32)","timestamp":"2025-01-19T09:29:08.157Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:32:55.775Z"}
{"level":"error","message":"创建支付失败: 重新下单失败: 201 商户订单号重复","stack":"Error: 重新下单失败: 201 商户订单号重复\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:274:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:55:32)","timestamp":"2025-01-19T09:32:55.776Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:33:01.132Z"}
{"level":"error","message":"创建支付失败: 重新下单失败: 201 商户订单号重复","stack":"Error: 重新下单失败: 201 商户订单号重复\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:274:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:55:32)","timestamp":"2025-01-19T09:33:01.133Z"}
{"level":"error","message":"创建支付失败: 获取prepay_id失败","stack":"Error: 获取prepay_id失败\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:69:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:33:58.360Z"}
{"level":"error","message":"创建支付失败: 获取prepay_id失败","stack":"Error: 获取prepay_id失败\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:69:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:34:02.450Z"}
{"level":"error","message":"统一下单配置错误:","timestamp":"2025-01-19T09:34:51.758Z"}
{"level":"error","message":"创建支付失败: 业务失败: ORDERPAID 该订单已支付","stack":"Error: 业务失败: ORDERPAID 该订单已支付\n    at createUnifiedOrder (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:265:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:55:32)","timestamp":"2025-01-19T09:34:51.758Z"}
{"level":"error","message":"创建支付失败: 获取prepay_id失败","stack":"Error: 获取prepay_id失败\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:69:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:35:55.934Z"}
{"level":"error","message":"创建支付失败: 获取prepay_id失败","stack":"Error: 获取prepay_id失败\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:69:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:37:00.425Z"}
{"level":"error","message":"创建支付失败: 获取prepay_id失败","stack":"Error: 获取prepay_id失败\n    at exports.create (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\pay.js:86:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:38:32.993Z"}
{"code":"ER_BAD_FIELD_ERROR","errno":1054,"level":"error","message":"获取商品列表失败: Unknown column 'created_at' in 'order clause'","sql":"SELECT * FROM goods WHERE 1=1 AND category_id = ? ORDER BY created_at DESC LIMIT ? OFFSET ?","sqlMessage":"Unknown column 'created_at' in 'order clause'","sqlState":"42S22","stack":"Error: Unknown column 'created_at' in 'order clause'\n    at PromisePool.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at exports.list (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\goods.js:99:10)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-01-19T09:53:49.455Z"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"获取商品详情失败: Table 'mall.goods_images' doesn't exist","sql":"SELECT image_url FROM goods_images WHERE goods_id = ? ORDER BY sort_order","sqlMessage":"Table 'mall.goods_images' doesn't exist","sqlState":"42S02","stack":"Error: Table 'mall.goods_images' doesn't exist\n    at PromisePool.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at exports.detail (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\goods.js:50:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-01-19T09:53:51.758Z"}
{"code":"ER_BAD_FIELD_ERROR","errno":1054,"level":"error","message":"获取商品列表失败: Unknown column 'created_at' in 'order clause'","sql":"SELECT * FROM goods WHERE 1=1 AND category_id = ? ORDER BY created_at DESC LIMIT ? OFFSET ?","sqlMessage":"Unknown column 'created_at' in 'order clause'","sqlState":"42S22","stack":"Error: Unknown column 'created_at' in 'order clause'\n    at PromisePool.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at exports.list (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\goods.js:93:10)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-01-19T09:57:48.628Z"}
{"code":"ER_BAD_FIELD_ERROR","errno":1054,"level":"error","message":"获取商品详情失败: Unknown column 'content' in 'field list'","sql":"SELECT id, category_id, name, price, stock, image_url, detail, content, brief, status, is_recommend, create_time, update_time FROM goods WHERE id = ?","sqlMessage":"Unknown column 'content' in 'field list'","sqlState":"42S22","stack":"Error: Unknown column 'content' in 'field list'\n    at PromisePool.execute (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at exports.detail (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\src\\controllers\\goods.js:37:29)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (E:\\00.我的课程\\Cursor：AI编程从入门到实战\\课程案例\\案例-商城微信小程序\\mall-server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-01-19T09:59:48.539Z"}
数据库连接失败: Access denied for user 'root'@'localhost' (using password: YES)
数据库连接失败: Access denied for user 'root'@'localhost' (using password: YES)
数据库连接失败: Access denied for user 'root'@'localhost' (using password: YES)
